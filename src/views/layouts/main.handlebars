<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <!--<script src="//cdn.jsdeliver.net/npm/sweetalert2@11"></script>-->
        <title>{{title}}</title>
    </head>
    <body>
        {{{body}}}

        <br>
        <br>
        <hr>
        Botones que usan la api para hacer las cosas
        <br>
        Crear un item random
        <button onclick="createItemRandom()">Click me</button>
        <br>
        <br>
        Eliminar item con id: <input id="idProductDelete"></input><button onclick="deleteItem()">Click me</button>
    </body>
</html>
<script>
function createItemRandom(){
    //code grabbed from postman collection
    var myHeaders = new Headers();
myHeaders.append("Content-Type", "application/json");

var raw = JSON.stringify({
  "title": "titulo test post 1",
  "description": "Silla gamer marca ACME",
  "code": Math.random(),
  "category": "Sillas",
  "stock": 15,
  "price": 15,
  "thumbnail": "",
  "status": true
});

var requestOptions = {
  method: 'POST',
  headers: myHeaders,
  body: raw,
  redirect: 'follow'
};

fetch("http://localhost:8080/api/v1/products", requestOptions)
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log('error', error));
}

function deleteItem(){
    var raw = "";

var requestOptions = {
  method: 'DELETE',
  body: raw,
  redirect: 'follow'
};

fetch("http://localhost:8080/api/v1/products/"+document.getElementById("idProductDelete").value, requestOptions)
  .then(response => response.text())
  .then(result => console.log(result))
  .catch(error => console.log('error', error));
}
</script>